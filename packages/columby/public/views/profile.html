<section class="profile" data-ng-controller="ColumbyProfileCtrl">

  <!-- Editor Sidebar -->
  <div class="editorSidebar" ng-show="editMode">
    <div class="editorSidebarContent">
      <a ng-click="toggleEditMode()">cancel</a>
      <button class="btn dbt-default" ng-show="contentEdited" ng-click="update()">Update</button>

      <h3>Update you profile</h3>

      <p>Change your account settings <a ui-sref="settings">here</a></p>

    </div>
  </div>

  <div class="page-header" ng-style="headerStyle">
    <h1>{{profile.username}}</h1>
    <div class="avatar">
      <img src="/columby/assets/img/avatar.png">
    </div>
  </div>

  <div class="page-content">
    <div class="description-wrapper">
      <div class="description container">
        <div class="col-md-12" ng-switch="editMode">
          <div class="description" ng-switch-default ng-bind-html="profile.description || 'This profile has no description yet!'"></div>
          <div class="description" ng-switch-when="true"
            ng-model="profile.description"
            text-angular
            placeholder="Please enter your description"
            ta-toolbar="[['bold','italics','underline'],['insertLink']]"
          ></div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="col-md-12">
        <div class="image" ng-show="editMode"
          ng-model="profile.headerImage"
          text-angular
          placeholder="Please enter your description"
          ta-toolbar="[['bold']]"
        >header image</div>
      </div>
      <div class="col-md-12">
        <div class="pattern" ng-show="editMode"
          ng-model="profile.headerPattern"
          text-angular
          placeholder="Please enter your description"
          ta-toolbar="[['bold']]"
        >header pattern</div>
      </div>
    </div>

    <div class="container">
      <div class="col-md-12">
        <div class="organisations" ng-show="organisations">
          <div class="col-md-12">
            <h3>Organisations</h3>
            <p ng-show="!organisations">No orgnisations for this user</p>
            <ul>
              <li ng-repeat="organisation in organisations">
                {{organisation.name}}
              </li>
            </ul>
          </div>
        </div>

        <div class="recent-publications">
          <div class="col-md-12">
            <h3>Recently published</h3>
            <p ng-show="!publications">No publications for this user</p>
            <ul>
              <li ng-repeat="publication in publications">
                {{publication.title}}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
