<section class="account-settings" data-ng-controller="AccountCtrl">
  <div class="container">
    <div class="row">
      <div class="col-md-offset-2 col-md-8">
				<h2>Manage your account</h2>
	      <a class="btn btn-default" ng-click="logout()">Logout</a>
	      <form class="novalidate" role="form" name="accountForm" ng-submit="updateAccount()" >

  	        <div class="form-group">
  	          <div class="email">
  	            <p><strong>Email: {{account.email}}</strong><br/>
                  (It is not possible to change your email address)</p>

                <p><strong>Public link: </strong><a>columby.com/{{account.slug}}</a><br/>
                    (It is not possible to change your public link yet)</p>

                <p><strong>Account id: </strong>{{account._id}}</p>

  	          </div>
  	        </div>

  	        <div class="form-group">
  	          <div class="">
  	            <label>Username</label>
  	            <input required id="name" type="text" name="name" placeholder="Your public username" class="form-control" ng-model="account.name"/>
  	          </div>
  	        </div>

  	        <div class="form-group">
  	          <button type="submit" class="btn btn-default" ng-disabled="accountForm.$pristine || accountForm.$invalid || updating" ng-click="update()">Update</button>
  	          <i class="icon-spin animate-spin" ng-show="updateAccountInProgress">::</i>
  	        </div>

  	        <div>
  	          <div ng-show="accountForm.$invalid && !accountForm.$pristine" class="alert alert-warning" role="alert">
  	            <span ng-show="accountForm.email.$invalid && !accountForm.email.$pristine">Enter a valid email.</span>
  	          </div>
  	          <div ng-show="accountError" class="alert alert-danger" role="alert">
  	            {{accountError}}
  	          </div>
  	        </div>

        </form>
			</div>
    </div>

    <div class="row accounts2">
		  <div class="col-md-offset-2 col-md-8">
        <h2>Your publication account</h2>
        <div class="account-personal">
          <h3>{{account.publicationAccounts.personal.name}}<span class="badge">{{account.publicationAccounts.personal.plan}}</span></h3>
        </div>
        <h2>Your Organisations</h2>
        <div class="accounts-organisation" ng-repeat="organisationAccount in account.publicationAccounts.organisations">
          {{organisationAccount}}
        </div>
        <p ng-show="account.publicationAccounts.organisations.length===0">No organisations</p>

        <div>
          <h3><a href="#" class="new-account">&#43; Create and add a new organisation</a></h3>
        </div>
      </div>
    </div>

    <div class="col-md-12 accounts">
			<div class="col-md-offset-2 col-md-8">
				<h2>Your accounts</h2>
				<div class="accounts-listing">
					<ul>
						<li>
							<h3><a href="#">Daniel</a></h3>
							<div class="account-detail">10 datasets, 20 of 50 MB</div>
						</li>
						<li>
							<h3><a href="#">Dutch Coast</a><span class="badge">pro</span></h3>
							<div class="account-detail">15 datasets, 50 of 100 MB</div>
						</li>
						<li>
							<h3><a href="#">Urbanlink</a><span class="badge">pro</span></h3>
							<div class="account-detail">8 datasets, 18 of 250 MB</div>
						</li>
						<li>
							<h3><a href="#" class="new-account">&#43; Create and add a new account</a><span class="badge">pro</span></h3>
							<div class="account-detail">8 datasets, 18 of 250 MB</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="col-md-2"></div>
		</div>
  </div>
</section>
