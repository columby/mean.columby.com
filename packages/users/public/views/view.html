<section class="account-settings" data-ng-controller="UserCtrl">
  <div class="container">
    <div class="row">
      <div class="col-md-offset-2 col-md-8">
				<h2>Your account</h2>
	      <p><strong>Email: </strong>{{user.email}}</p>
        <p><strong>Account id: </strong>{{user._id}}</p>
			</div>
    </div>
    <hr />

    <div class="row">
      <div class="col-md-offset-2 col-md-8">
        <a class="btn btn-default" ng-click="logout()">Logout</a>
      </div>
    </div>
    <hr/>

    <div class="row accounts">
      <div class="col-md-offset-2 col-md-8">
        <h3>Accounts</h3>
        <p ng-show="!user.accounts || user.accounts.length===0">No account for this user</p>
        <ul>
          <li ng-repeat="account in user.accounts | orderBy:account.primary">
            <h4><a ui-sref="account.view({slug:account.slug})">{{account.name}}</a><span ng-show="account.primary">Primary</span></h4>
            <p>{{account.datasets.length}} datasets</p>
          </li>
          <li>
            <h4><a ui-sref="account.create({userId: user._id})" class="new">+ Create a new publication account</a></h4>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>
