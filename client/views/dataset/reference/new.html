
<div class="modal-header">
  <h3 class="modal-title">Add a reference</h3>
</div>
<div class="modal-body">
  <div class="add-reference">
  <h2>Add a reference</h2>
  <p>Some descriptive text about adding a reference. </p>
  <form class="form-horizontal" role="form" name="checkForm">
    <div class="form-group form-group-lg">
      <div class="col-sm-10">
        <input class="form-control form-group-lg"
               type="url"
               ng-model="link"
               placeholder="http://www.yourreference.com"/>
      </div>
      <div class="col-md-2">
        <button
          ng-disabled="checkForm.$invalid || checkForm.$pristine"
          class="btn btn-default"
          ng-click="checkReferenceLink(link)">Check
        </button>
      </div>
    </div>
  </form>

  <div class="preview row"
       ng-show="reference.result">
    <div class="col-md-offset-3 col-md-6 reference">
			<div>
				<img src="../../../images/reference-spaceholder.png" class="placeholder">
				<div class="reference-image" style="background: url({{reference.result.images[0].url}}); background-size:cover;">
		      <h3 class="reference-title">{{reference.result.title}}</h3>
		      <p class="small reference-source">on {{reference.result.provider_name}}</p>
		    </div>
			</div>
		</div>
		<div class="col-md-offset-3 col-md-6">
			<div class="small reference-text">{{reference.result.description}}</div>
		</div>
  </div>

  <div class="warning" ng-show="reference.checkingLink"><i class="fa fa-spinner fa-spin"></i>Validating link ...</div>
  <div class="warning">{{reference.error}}</div>


</div>
</div>

<div class="modal-footer">
  <button class="btn orange pull-left" ng-click="close()">Cancel</button>
  <form class="form-horizontal" role="form" name="referenceForm">
    <button
      type="submit"
      class="default-button lightblue filled pull-right"
      ng-show="reference.valid"
      ng-click="save()"
      ng-disabled="!reference.result">Add Reference</button>
  </form>
</div>
