<div class="account edit">

  <!-- Actions -->
  <div class="actions-bar" ng-show="account.canEdit">

    <ul>
      <li>
        <button
          class    = "default-button"
          ng-show  = "account.id"
          ng-click = "toggleOptions()">options
        </button>
      </li>
      <li>
        <button class="btn btn-default"
          type     = "button"
          ng-show  = "account.id"
          ui-sref="account.view({slug:account.slug})">Exit edit mode
        </button>
      </li>
      <li>
        <button
          class    = "btn btn-default publish"
          ng-show  = "!account.id"
          ng-click = "createAccount()">Publish
        </button>
      </li>
    </ul>
  </div>

  <!-- Editor Sidebar -->
  <div class="editorSidebar" ng-show="showOptions">
    <div class="options-arrow"></div>
    <div class="editorSidebarContent">
      <div class="sidebarModule">
        <div class="editors" ng-show="account.id">
          <h3>Editors</h3>

        </div>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="content" ng-hide="contentLoading">
    <div class="header wrapper" ng-style="headerStyle">

      <div class="upload-button" ng-file-select="onFileSelect($files,'image','header')">
        <i class="fa fa-cog"></i>
      </div>

      <div class="container">

        <textarea class = "input-noborder name title edit"
          name        = 'title'
          placeholder = 'Your account name'
          data-ng-model    = 'accountUpdate.name'
          data-ng-blur     = 'update()'
          focus       = 'true'
         ></textarea>

        <div class="avatar-container avatar"

          ng-file-select="onFileSelect($files,'image','avatar')"
          data-multiple="false">
          <img class="img-circle avatar" src="{{account.avatar.url}}"/>
        </div>
      </div>
    </div>


    <!-- Dataset Description -->
    <div class="description wrapper">
      <!-- Editable description -->
      <div class="container">
        <div class="col-md-12">
          <h3>Description</h3>
            <button
              class="right btn-xs btn-tooltip"
              popover="----"
              popover-trigger="mouseenter"
              popover-placement="left"
              class="btn btn-default"><i class="fa fa-question"></i>
            </button>


          <div
            ng-model        = "accountUpdate.description"
            text-angular
            ta-default-wrap = "p"
            ng-blur         = "update()"
            ta-toolbar      = "[['quote','bold','italics','underline'],['ul','ol','indent','outdent'],['insertLink','insertVideo']]"
        ></div>
        </div>
      </div>
    </div>

    <!-- General account files -->
    <div class="files-wrapper">
      <div class="container">
        <div class="col-md-12">
          <h3>Account Files</h3>
          <p>A list of files connected to your account. For example to be used for general organisation policy files. </p>

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>id</th>
                <th>shortid</th>
                <th>download</th>
                <th>type</th>
                <th>size</th>
                <th>created</th>
                <th>updated</th>
              </tr>
            </thead>
            <tr ng-repeat="file in account.files">
              <td>{{file.id}}</td>
              <td>{{file.shortid}}</td>
              <td><a href="{{file.url}}" target="_blank">{{file.filename}}</a></td>
              <td>{{file.filetype}}</td>
              <td>{{file.size | bytes}}</td>
              <td>{{file.created_at | date:'d MMMM yyyy'}}</td>
              <td>{{file.updated_at | date:'d MMMM yyyy'}}</td>
            </tr>
          </table>
          <button class="btn btn-default"
                  file-type="file"
                  file-target="accountFile"
                  ng-file-select="onFileSelect($files,'file','accountFile')"
                  data-multiple="false">
            Upload a new file</button>
        </div>
      </div>
    </div>
    <!-- <div class="datasets wrapper" ng-show="account.datasets.length>0">
      <div class="container">
        <div class="col-md-12">
          <h3>Datasets</h3>
          <p ng-show="!account.datasets">No datasets for this user</p>
          <ul>
            <li ng-repeat="dataset in account.datasets">
              <h4>
                <a ui-sref="dataset.view({ id: dataset._id })">{{dataset.title}}</a>
                <span ng-show="dataset.private === true" class="label bg-primary">private</span>
              </h4>
              <date>{{dataset.created | date:'short'}}</date>
            </li>
            <li ng-show="account.canEdit">
              <h4><a ui-sref="dataset.create" class="new">+ Create a dataset</a></h4>
            </li>
          </ul>
        </div>
      </div>
    </div> -->

    <!-- <div class="collections wrapper" ng-hide="editMode">
      <div class="container">
        <div class="col-md-12">
          <h3>Collections</h3>
          <p ng-show="account.collections.length === 0">No collections for this user</p>
          <ul>
            <li ng-repeat="collection in account.collections">
                <h4><a ui-sref="collection.view({id: collection._id})">{{collection.title}}</a></h4>
                <p>{{collection.description}}</p>
            </li>
            <li>
              <h4><a ui-sref="collection.create({accountId: account._id})" class="new">+ Create a collection</a></h4>
            </li>
          </ul>
        </div>
      </div>
    </div> -->
  </div>
</div>
