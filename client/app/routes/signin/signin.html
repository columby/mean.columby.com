<div class="signin container">
  <div class="signin-header">
    <img src="/assets/images/logo.png" class="logo">
  </div>

  <div class="row">
    <!-- login form -->
    <div class="login-form col-md-6">
      <h2>Login to continue</h2>
      <form class="form-horizontal novalidate" role="form" name="loginForm" ng-submit="login()" >
        <div class="form-group">
          <div class="col-sm-12">
            <input class="form-control"
              required
              id="email"
              type="email"
              name="email"
              placeholder="Your email address"
              ng-model="email"/>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-4">
            <button
              type="submit"
              class="btn btn-default"
              ng-disabled="loginForm.$invalid || loginInProgress">Login</button>
          </div>
          <div class="col-sm-8">
            <div ng-show="loginForm.$invalid && !loginForm.$pristine" class="alert alert-warning" role="alert">
              <span ng-show="loginForm.email.$invalid && !loginForm.email.$pristine">Enter a valid email.</span>
            </div>
            <div ng-show="loginError" class="alert alert-danger" role="alert">
              {{loginError}}
            </div>
          </div>
        </div>
      </form>
    </div>

    <div class="register-form col-md-6">
      <h2>Register your account</h2>
      <form class="form-horizontal" role="form" name="registerForm" ng-submit="register()">
        <div class="form-group">
          <div class="col-sm-12">
            <input type="email" class="form-control" id="email" name="email" placeholder="Email" ng-model="newuser.email" required>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-8">
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              placeholder="name"
              ng-minlength="3"
              ng-maxlength="20"
              ng-model="newuser.name"
              ng-change="slugifyName()" required>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-8">
            <p>I accept the <a ui-sref="terms" target="_blank">terms</a>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-4">
            <button
              type="submit"
              class="btn btn-default"
              ng-disabled="registrationInProgress || registerForm.name.$invalid || registerForm.email.$invalid || registerForm.$invalid">Register</button>
          </div>
          <div class="col-sm-8">
            <div ng-show="registerForm.$invalid && !registerForm.$pristine" class="alert alert-warning" role="alert">
              <span ng-show="registerForm.email.$invalid">Please enter a valid email.</span>
              <span ng-show="registerForm.name.$invalid">Your username should between 3 and 20 characters.</span>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Verification madal -->
  <div class="verify-in-progress" ng-show="verifyInProgress">
    <h1>Signing in</h1>
    <p>Your verification token is checked for validity.</p>
    <div class="alert alert-danger animated fadeIn" ng-show="verificationError">{{verificationError}}</div>
    <a ui-sref="home">home</a>
  </div>

  <!-- Token request success madal -->
  <div class="signin-success" ng-show="signinSuccess">
    <h1>Check your inbox</h1>
    <p>The authentication was successful. You should receive a login link in your inbox soon.</p>
    <a ui-sref="home">home</a>
  </div>

  <!-- Registration request success -->
  <div class="registration-success" ng-show="registrationSuccess">
    <h1>Registration successful</h1>
    <p>The registration process was successful. You should receive a login link in your inbox soon.</p>
    <a ui-sref="home">home</a>
  </div>
</div>
