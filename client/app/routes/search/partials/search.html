<section class="page search" ng-controller="SearchCtrl">

  <div class="page-header">
    <div class="container">
      <h1>Search</h1>
      <h2 class="page-subtitle">find datasets</p>
    </div>
  </div>

  <div class="page-content">
    <div class="container">
      <div class="col-md-12">
        <input class="input-search"
               type="text"
               ng-model="search.searchTerm"
               placeholder="Search"
               ng-change="doSearch()"
               focus
               ng-model-options="{debounce: 250}"/>
        <div class="search-message">{{search.message}}</div>
      </div>
    </div>

    <div class="container">
      <div class="col-md-12 results">
        <h3 ng-show="search.hits.length">Search results</h3>
        <div class="no-result" ng-show="search.hits.length===0">No result</div>
          <ul ng-show="search.hits.length>0">
            <li ng-repeat="result in search.hits" class="publication-item">
              <h4><a ui-sref="dataset.view({datasetId: result.id})">{{result.title}}</a><em>{{result._source.publishStatus}}</em></h4>
              <div class="user-date"><!-- {{result._source.account.name || '[Oops! No publisher found]'}} on  --><time class="post-date">{{result._source.createdAt | date:'d MMMM yyyy'}}</time></div>
            </li>
          </ul>
        </div>
      </div>
    </div>

  </div>

</section>
